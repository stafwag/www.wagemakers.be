<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>

<title>Configuration - Staf Wagemakers</title>
<link rel="stylesheet" type="text/css" href="../../../stafwag/css/stafwag.css" />
<link rel="stylesheet" type="text/css" href="../../../stafwag/css/stafwag-webgui.css" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="generator" content="WebGUI 7.10.23" /><meta http-equiv="Content-Script-Type" content="text/javascript" /><meta http-equiv="Content-Style-Type" content="text/css" /><script type="text/javascript">function getWebguiProperty (propName) {var props = new Array();props["extrasURL"] = "/extras/";props["pageURL"] = "/english/programs/cgipaf/configuration";props["firstDayOfWeek"] = "0";return props[propName];}</script>
<meta http-equiv="Cache-Control" content="must-revalidate" />
</head>

<body>

<!-- wrap starts here -->
<div id="wrap">

		<!-- header -->

		<div id="header">
<!-- google analytics -->

<script type="text/javascript">
<!--
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37258385-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
//-->
</script>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4659298941528586";
/* head_banner */
google_ad_slot = "5954810285";
google_ad_width = 468;
google_ad_height = 58;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
					

			<ul>
				<li><a href="../../../index.html"><span>Home</span></a></li>
				<li><a href="../../../dutch.html"><span>Nederlands</span></a></li>
				<li><a href="../../../english.html"><span>English</span></a></li>
				<li><a href="../../../downloads.html"><span>Downloads</span></a></li>
				<li><a href="../../../links.html"><span>links</span></a></li>
							
			</ul>								
		</div>
		
		<div id="header-logo">
                        <div id="mylogo">Staf&nbsp;Wagemakers</div>

<div id="google-search">

<div id="cse-search-form" style="width: 100%;">Loading</div>
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript"> 
  google.load('search', '1', {language : 'en', style : google.loader.themes.V2_DEFAULT});
  google.setOnLoadCallback(function() {
    var customSearchOptions = {};  var customSearchControl = new google.search.CustomSearchControl(
      '011952366183077168952:clxrudllfuo', customSearchOptions);
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.enableSearchboxOnly("http://www.google.com/cse?cx=011952366183077168952:clxrudllfuo", null, true);
    customSearchControl.draw('cse-search-form', options);
  }, true);
</script>



</div>


</div>






				
		

	<div id="sidebar">
		<div class="sidebar">

<a name="idIjSy9C91wSVONrzWFkETgg" id="idIjSy9C91wSVONrzWFkETgg"></a>




	<h1>Navigation</h1>





<!--
<ul class="menu bulletList">
-->
<div class="left-box">
<ul class="sidemenu">




	<li class="ancestor">
	<a href="../../../home.html">Home</a>


    <ul class="level0">






	<li>
	<a href="../../../dutch.html">Nederlands</a>


    </li>






	<li class="ancestor">
	<a href="../../../english.html">English</a>


    <ul class="level1">






	<li class="ancestor">
	<a href="../../programs.html">Programs</a>


    <ul class="level2">






	<li>
	<a href="../lookat.html">Lookat/Bekijk</a>


    </li>






	<li class="ancestor">
	<a href="../cgipaf.html">CGIpaf</a>


    </li>






	<li>
	<a href="../cgipasswd.html">cgipasswd</a>


    </li>






	<li>
	<a href="../linkedscaffold.html">ROR Linkedscaffold</a>


    </li>






	<li>
	<a href="../drw2asm.html">DRW2ASM</a>


    </li>






	<li>
	<a href="../../nagiosplugins.html">Nagios Plugins</a>


    </li>






	<li>
	<a href="../convertpgssub.html">convertPgsSub</a>


    </li>





    </ul>
    </li>


	<li>
	<a href="../../doc.html">Documentation</a>


    </li>






	<li>
	<a href="../../toys.html">Toys</a>


    </li>






	<li>
	<a href="../../who_am_i.html">Who am I?</a>


    </li>





    </ul>
    </li>


	<li>
	<a href="../../../downloads.html">Downloads</a>


    </li>






	<li>
	<a href="../../../links.html">links</a>


    </li>



    
    </ul>
    </li>
    



</ul>
</div>


<!--/nav2234b2f42f75c1254e36bcd616411382 /nav bulletedList-->
</div>

		<h1>About me</h1>
<div class="left-box">
<ul class="sidemenu">
<li>
<ul class="level0">

<li class="ancestor">
<b>Homepage:</b> <a href="../../../index.html">www.wagemakers.be</a>
</li>

<li class="ancestor">
<b>Blog:</b> <a href="http://stafwag.github.io/blog">stafwag.github.io/blog</a>
</li>

<li class="ancestor">

<a href="http://be.linkedin.com/in/stafwagemakers" style="text-decoration:none;"><span style="font: 80% Arial,sans-serif; color:#0783B6;"><img src="http://www.linkedin.com/img/webpromo/btn_in_20x15.png" width="20" height="15" alt="View staf wagemakers's LinkedIn profile" style="vertical-align:middle" />View staf wagemakers's profile</span></a>


</li>

<li class="ancestor">

<img src="http://ssl.gstatic.com/images/icons/gplus-16.png" alt="Google+" style="border:0;width:16px;height:16px;"/>
<a href="https://google.com/+StafWagemakers"> Staf Wagemakers</a> <br /><br />


<!-- Place this tag where you want the widget to render. -->
<div class="g-follow" data-annotation="bubble" data-height="20" data-href="//google.com/+StafWagemakers" data-rel="author" >

</div>

<!-- Place this tag after the last widget tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

</li>

<li class="ancestor">

<a href="https://github.com/stafwag">@stafwag</a> on GitHub


</li>

</ul>
</li>
</ul>



		<h1>Login</h1>

		<div class="left-box">
			<ul class="sidemenu">
				<li><a class="loginToggleLink" href="configuration%3Fop=auth%3Bmethod=init.html">Login</a></li>
				<li><a href="configuration%3Fop=auth%3Bmethod=init.html">View My Account</a></li>
				
			</ul>
		</div>




		</div>



	    

<!--
		<h1>WebGUI Links</h1>	
		<div class="left-box">
			<ul class="sidemenu"><li><a href="http://webgui.org/addons">Addons and Plugins</a></li></ul>
		</div>	
-->

            

	    <div class="ads">

		<br /><br />


            <p>
<a href="http://www.procolix.com"><img src="../../../root/themes/staf/images/hosted_by_procolix.png" alt="hosted by procolix" /></a>
             </p>

<p>
    <a href="http://validator.w3.org/check?uri=referer"><img
      src="http://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" /></a><br />
    <a href="http://jigsaw.w3.org/css-validator/check/referer">
        <img style="border:0;width:88px;height:31px"
            src="http://jigsaw.w3.org/css-validator/images/vcss"
            alt="Valide CSS!" />
    </a>
</p>

<p>


<!-- vertical link ad -->
    <br />

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4659298941528586";
/* side-block */
google_ad_slot = "2562895628";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<!-- vertical link ad ends -->


        </p>
        </div>

	</div>				
							
	<div id="main"><div id="folderKYXuh-S286AzAG2fuLFWcw" class="folder">

<a name="idKYXuh-S286AzAG2fuLFWcw" id="idKYXuh-S286AzAG2fuLFWcw"></a>


	

		

<div class="description">
	<div class="back"><hr />
<p><a href="../cgipaf.html">Back to cgipaf homepage</a></p>
<hr /></div>
<h1>CGIpaf 1.3.2 Configuration</h1>
<h1>Content</h1>
<ul>
<li><a href="configuration.html#syntax">Syntax</a></li>
<li><a href="configuration.html#sections">Sections</a></li>
<li><a href="configuration.html#directives">Directives</a>
<ul>
<li><a href="configuration.html#syslog">syslog</a></li>
<li><a href="configuration.html#loglevel">loglevel</a></li>
<li><a href="configuration.html#pam_service">pam_service</a></li>
<li><a href="configuration.html#document_root">document_root</a></li>
<li><a href="configuration.html#login_document">login_document</a></li>
<li><a href="configuration.html#error_loginname">error_loginname</a></li>
<li><a href="configuration.html#error_access">error_access</a></li>
<li><a href="configuration.html#error_invalid">error_invalid</a></li>
<li><a href="configuration.html#error_newpassword">error_newpassword</a></li>
<li><a href="configuration.html#error_match">error_match</a></li>
<li><a href="configuration.html#error_unchanged">error_unchanged</a></li>
<li><a href="configuration.html#error_tooshort">error_tooshort</a></li>
<li><a href="configuration.html#error_torlong">error_toolong</a></li>
<li><a href="configuration.html#error_locked">error_locked</a></li>
<li><a href="configuration.html#error_forwardto">error_forwardto</a></li>
<li><a href="configuration.html#error_invalidforwardto">error_invalidforwardto</a></li>
<li><a href="configuration.html#msg_success">msg_success</a></li>
<li><a href="configuration.html#msg_changed">msg_changed</a></li>
<li><a href="configuration.html#msgmsg_updated">msg_updated</a></li>
<li><a href="configuration.html#error_read">error_readname</a></li>
<li><a href="configuration.html#error_readforward">error_readforward</a></li>
<li><a href="configuration.html#error_readkeepmsg">error_readkeepmsg</a></li>
<li><a href="configuration.html#error_readautoreply">error_readautoreply</a></li>
<li><a href="configuration.html#error_autoreply_msg">error_autoreply_msg</a></li>
<li><a href="configuration.html#error_cookie">error_cookie</a></li>
<li><a href="configuration.html#error_cookietimeout">error_cookietimeout</a></li>
<li><a href="configuration.html#error_accessdb">error_accessdb</a></li>
<li><a href="configuration.html#error_cracklib">error_cracklib</a></li>
<li><a href="configuration.html#error_mailcfgscript">error_mailcfgscript</a></li>
<li><a href="configuration.html#error_viewmailcfgscript">error_viewmailcfgscript</a></li>
<li><a href="configuration.html#error_pam">error_pam</a></li>
<li><a href="configuration.html#error_illegalword">error_illegalword</a></li>
<li><a href="configuration.html#min_uid">min_uid</a></li>
<li><a href="configuration.html#max_uid">max_uid</a></li>
<li><a href="configuration.html#min_length">min_length</a></li>
<li><a href="configuration.html#max_length">max_length</a></li>
<li><a href="configuration.html#accessdb">accessdb</a></li>
<li><a href="configuration.html#cracklib">cracklib</a></li>
<li><a href="configuration.html#cracklib_dictpath">cracklib_dictpath</a></li>
<li><a href="configuration.html#vmail_support">vmail_support</a></li>
<li><a href="configuration.html#passwd_location">passwd_location</a></li>
<li><a href="configuration.html#shadow_location">shadow_location</a></li>
<li><a href="configuration.html#illegal_words">illegal_words</a></li>
<li><a href="configuration.html#set_pam_change_expired_authtok">set_PAM_CHANGE_EXPIRED_AUTHTOK</a> <strong><span style="color: red;">This directive is absolute, and will be removed...</span></strong></li>
<li><a href="configuration.html#max_invalid">max_invalid</a></li>
<li><a href="configuration.html#invalid_timeout">invalid_timeout</a></li>
<li><a href="configuration.html#sendmail">sendmail</a></li>
<li><a href="configuration.html#formail">formail</a></li>
<li><a href="configuration.html#domain">domain</a></li>
<li><a href="configuration.html#use_statefile">use_statefile</a></li>
<li><a href="configuration.html#run_success">run_success</a></li>
<li><a href="configuration.html#run_locked">run_locked</a></li>
<li><a href="configuration.html#run_before_mailcfg">run_before_mailcfg</a></li>
<li><a href="configuration.html#run_after_mailcfg">run_after_mailcfg</a></li>
<li><a href="configuration.html#run_mailcfg">run_mailcfg</a></li>
<li><a href="configuration.html#mailcfg_check">mailcfg_check</a></li>
<li><a href="configuration.html#run_viewmailcfg">run_viewmailcfg</a></li>
<li><a href="configuration.html#set_script_filename">set_script_filename</a></li>
<li><a href="configuration.html#unset_script_filename">unset_script_filename</a></li>
<li><a href="configuration.html#cookie_timeout">cookie_timeout</a></li>
<li><a href="configuration.html#mailcfg_document">mailcfg_document</a></li>
<li><a href="configuration.html#error_deldotforward">error_deldotforward</a></li>
<li><a href="configuration.html#error_deldotprocmailrc">error_deldotprocmailrc</a></li>
<li><a href="configuration.html#error_openvacations">error_openvacations</a></li>
<li><a href="configuration.html#error_updateprocmailrc">error_updateprocmailrc</a></li>
<li><a href="configuration.html#aclorder">AclOrder</a></li>
<li><a href="configuration.html#allowusers">AllowUsers</a></li>
<li><a href="configuration.html#denyusers">DenyUsers</a></li>
<li><a href="configuration.html#allowgroups">AllowGroups</a></li>
<li><a href="configuration.html#denygroups">DenyGroups</a></li>
</ul>
</li>
<li><a href="configuration.html#variables">Variables</a></li>
<li><a href="configuration.html#redirect">Redirect</a></li>
<li><a href="configuration.html#htmlfile">HTML files</a></li>
<li><a href="configuration.html#command">Scripts</a>
<ul>
<li><a href="configuration.html#command_overview">Overview</a></li>
<li><a href="configuration.html#command_syntax">Syntax</a></li>
<li><a href="configuration.html#command_examples">Examples</a></li>
</ul>
</li>
<li><a href="configuration.html#acl">Access Control List</a>
<ul>
<li><a href="configuration.html#aclexamples">Examples</a></li>
</ul>
</li>
</ul>
<h1><a name="syntax"></a>Syntax</h1>
<p>The configuration file (cgipaf.conf) contains one directive per line. The directive names are case insensitive, the values are case sensitive. Everything after a hash ( # ) is ignored. Empty lines and whitespaces are also ignored. If a directive appears more than ones the last one is used. Sections are grouped between &lt;section_name&gt; ... &lt;/section_name&gt;, the section names are like the directive names case insensitive.</p>
<h1><a name="sections"></a>Sections</h1>
<p>The configuration file has three sections "global", "passwd" and "mailcfg". The directives that don't belong to a section are global. Global directives apply to all sections unless they're overwritten in the sections.<br /> The "passwd" section is used by passwd.cgi, viewmailcfg.cgi and mailcfg.cgi use the "mailcfg" section.</p>
<h1><a name="directives"></a>Directives</h1>
<p>The following parameters control cgipaf features and configuration. If a option is not specified or invalid the default built-in messages are used.</p>
<h2><a name="syslog"></a>syslog</h2>
<p><strong>Syntax:</strong> syslog <em>on|off</em><br /> <strong>Default:</strong> on<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>enable syslog messages</p>
<p>all the authentication events are logged with LOG_AUTHPRIV facility, other events are logged with the LOG_USER facility</p>
<h2><a name="loglevel"></a>loglevel</h2>
<p><strong>Syntax:</strong> loglevel <em>number</em><br /> <strong>Default:</strong> 6<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>set the syslog level, messages of a higher significance will be reported as well.<br /> e.g. if loglevel is set to 1 (LOG_ALERT) messages with loglevel 0 (LOG_EMERG) are also reported.</p>
<table>
<tbody>
<tr>
<td><strong>0</strong></td>
<td>LOG_EMERG</td>
<td>system is unusable</td>
</tr>
<tr>
<td><strong>1</strong></td>
<td>LOG_ALERT</td>
<td>action must be taken immediately</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>LOG_CRIT</td>
<td>critical conditions</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>LOG_ERR</td>
<td>error conditions</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>LOG_WARNING</td>
<td>warning conditions</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>LOG_NOTICE</td>
<td>normal, but significant, condition</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>LOG_INFO</td>
<td>informational message</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>LOG_DEBUG</td>
<td>debug-level message</td>
</tr>
</tbody>
</table>
<h2><a name="pam_service"></a>pam_service</h2>
<p><strong>Syntax:</strong> pam_service <em>pam service name</em><br /> <strong>Default:</strong> passwd<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>Set the pam service name, if not set "passwd" is used. The passwd pam service ( /etc/pam.d/passwd ) usually doesn't have an entry for user authentication, therefor /etc/pam.d/other has to have a line auth set to pam_unix.so.</p>
<pre><code><tt><br /> auth required pam_unix.so<br /> account required pam_unix.so<br /></tt></code></pre>
<p>If you don't like this for security reason etc, you can set the pam_service directive to "cgipaf" and create the file /etc/pam.d/cgipaf that looks like this</p>
<pre><code><tt><br /> auth required pam_unix.so<br /> account required pam_unix.so<br /> password required pam_unix.so md5<br /></tt></code></pre>
<h2><a name="document_root"></a>document_root</h2>
<p><strong>Syntax:</strong> document_root <em>path</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>location of the custom html message files</p>
<h2><a name="login_document"></a>login_document</h2>
<p><strong>Syntax:</strong> login_document <em>filename</em> <strong>OR</strong> login_document Redirect <em>location</em><br /> <strong>Default:</strong> "error reading data please contact the webmaster\n"<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>if the program is executed without parameters this message is displayed</p>
<h2><a name="error_loginname"></a>error_loginname</h2>
<p><strong>Syntax:</strong> error_loginname <em>filename</em> <strong>OR</strong> error_loginname Redirect <em>location</em><br /> <strong>Default:</strong> "Can't read loginname\n"<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>The user forgot to type his loginname.</p>
<h2><a name="error_access"></a>error_access</h2>
<p><strong>Syntax:</strong> error_access <em>filename</em> <strong>OR</strong> error_access Redirect <em>location</em><br /> <strong>Default:</strong>"Access denied...\n"<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>The user try to logon as root or the user's uid isn't between <a href="configuration.html#min_uid">min_uid</a> &amp; <a href="configuration.html#max_uid">max_uid</a>.</p>
<h2><a name="error_invalid"></a>error_invalid</h2>
<p><strong>Syntax:</strong> error_invalid <em>filename</em> <strong>OR</strong> error_invalid Redirect <em>location</em><br /> <strong>Default:</strong> "Invalid password or username.\n"<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>The password is incorrect or the user doesn't exists</p>
<h2><a name="error_newpassword"></a>error_newpassword</h2>
<p><strong>Syntax:</strong> error_newpasswd <em>filename</em> <strong>OR</strong> error_newpassord Redirect <em>location</em><br /> <strong>Default:</strong> "Can't read new password\n"<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>can't read new password</p>
<h2><a name="error_match"></a>error_match</h2>
<p><strong>Syntax:</strong> error_match <em>filename</em> <strong>OR</strong> error_match Redirect <em>location</em><br /> <strong>Default:</strong> "They don't match\n"<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>The new passwords doesn't match</p>
<h2><a name="error_unchanged"></a>error_unchanged</h2>
<p><strong>Syntax:</strong> error_unchanged <em>filename</em> <strong>OR</strong> error_unchanged Redirect <em>location</em><br /> <strong>Default:</strong> "Password Unchanged\n"<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>Password Unchanged</p>
<h2><a name="error_tooshort"></a>error_tooshort</h2>
<p><strong>Syntax:</strong> error_tooshort <em>filename</em> <strong>OR</strong> error_tooshort Redirect <em>location</em><br /> <strong>Default:</strong> "Password too short...\n"<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>the password length is below <a href="configuration.html#min_length">min_length</a></p>
<h2><a name="error_torlong"></a>error_toolong</h2>
<p><strong>Syntax:</strong> error_toolong <em>filename</em> <strong>OR</strong> error_toolong Redirect <em>location</em><br /> <strong>Default:</strong> "Password too long...\n"<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>the password length is above <a href="configuration.html#max_length">max_length</a></p>
<h2><a name="error_locked"></a>error_locked</h2>
<p><strong>Syntax:</strong> error_locked <em>filename</em> <strong>OR</strong> error_locked Redirect <em>location</em><br /> <strong>Default:</strong> "Maximum number of tries exceeded...\n"<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>The user has exceeded the <a href="configuration.html#max_invalid">max_invalid</a> tries</p>
<h2><a name="error_forwardto"></a>error_forwardto</h2>
<p><strong>Syntax:</strong> error_forwardto <em>filename</em> <strong>OR</strong> error_forwardto Redirect <em>location</em><br /> <strong>Default:</strong>"Forward to who???"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>The user has enabled mail forwarding, but didn't supply a forward to mail address</p>
<h2><a name="error_invalidforwardto"></a>error_invalidforwardto</h2>
<p><strong>Syntax:</strong> error_invalidforwardto <em>filename</em> <strong>OR</strong> error_invalidforwardto <em> Redirect location</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>The forward to email address is invalid</p>
<h2><a name="msg_success"></a>msg_success</h2>
<p><strong>Syntax:</strong> msg_success <em>filename</em> <strong>OR</strong> msg_success Redirect <em>location</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>The password or mail configuration is updated successfully</p>
<h2><a name="msg_changed"></a>msg_changed</h2>
<p><strong>Syntax:</strong> msg_changed <em>filename</em> <strong>OR</strong> msg_changed Redirect <em>location</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>see <a href="configuration.html#msg_success">msg_success</a></p>
<h2><a name="msgmsg_updated"></a>msg_updated</h2>
<p><strong>Syntax:</strong> msg_updated <em>filename</em> <strong>OR</strong> msg_updated Redirect <em>location</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>see <a href="configuration.html#msg_success">msg_success</a></p>
<h2><a name="error_read"></a>error_readname</h2>
<p><strong>Syntax:</strong> error_readname <em>filename</em> <strong>OR</strong> error_readname Redirect <em>location</em><br /> <strong>Default:</strong> "[CGIpaf] Can't read loginname\n"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi is unable to read to username, this is probably an error in <a href="configuration.html#mailcfg_document">mailcfg_document</a>.</p>
<h2><a name="error_readforward"></a>error_readforward</h2>
<p><strong>Syntax:</strong> error_readforward <em>filename</em> <strong>OR</strong> error_readforward Redirect <em>location</em><br /> <strong>Default:</strong> "[CGIpaf] Can't read forward\n"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi is unable to read forward, this is probably an error in <a href="configuration.html#mailcfg_document">mailcfg_document</a>.</p>
<h2><a name="error_readkeepmsg"></a>error_readkeepmsg</h2>
<p><strong>Syntax:</strong> error_readkeepmsg <em>filename</em> <strong>OR</strong> error_readkeepmsg Redirect <em>location</em><br /> <strong>Default:</strong> "[CGIpaf] Can't read keepmsg\n"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi is unable to read keep_msg, this is probably an error in <a href="configuration.html#mailcfg_document">mailcfg_document</a>.</p>
<h2><a name="error_readautoreply"></a>error_readautoreply</h2>
<p><strong>Syntax:</strong> error_readautoreply <em>filename</em> <strong>OR</strong>error_readautoreply Redirect <em>location</em><br /> <strong>Default:</strong> "[CGIpaf] Can't read autoreply\n"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi is unable to read autoreply, this is probably an error in <a href="http://www.wagemakers.be/english/programs/cgipaf/mailcfg_document">mailcfg_document</a>.</p>
<h2><a name="error_autoreply_msg"></a>error_autoreply_msg</h2>
<p><strong>Syntax:</strong> error_autoreplymsg <em>filename</em> <strong>OR</strong> error_autoreplymsg Redirect <em>location</em><br /> <strong>Default:</strong> "Can't read autoreply_msg...\n"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>The user has enabled autoreply, but didn't supply a autoreply message.</p>
<h2><a name="error_cookie"></a>error_cookie</h2>
<p><strong>Syntax:</strong> error_cookie <em>filename</em> <strong>OR</strong> error_cookie Redirect <em>location</em><br /> <strong>Default:</strong> "To update your mail configuration your browser need to support cookies...\n"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi can't update the mail configuration without cookies.</p>
<h2><a name="error_cookietimeout"></a>error_cookietimeout</h2>
<p><strong>Syntax:</strong> error_cookietimeout <em>filename</em> <strong>OR</strong> error_cookietimeout Redirect <em>location</em><br /> <strong>Default:</strong> "Cookie timeout exceeded...\n"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi can't update the mail configuration because the cookie is too old.</p>
<h2><a name="error_accessdb"></a>error_accessdb</h2>
<p><strong>Syntax:</strong> error_accessdb <em>filename</em> <strong>OR</strong> error_accessdb Redirect <em>location</em><br /> <strong>Default:</strong> "[CGIpaf] configuration error, (view)mailcfg needs a accessdb.\n Please contact the webmaster"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>(view)mailcfg.cgi can't work without an <a href="configuration.html#accessdb">accessdb</a></p>
<h2><a name="error_cracklib"></a>error_cracklib</h2>
<p><strong>Syntax:</strong> error_cracklib <em>filename</em> <strong>OR</strong> error_cracklib Redirect <em>location</em><br /> <strong>Default:</strong> "BAD PASSWORD, %{cracklib_error}<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>cracklib error</p>
<h2><a name="error_mailcfgscript"></a>error_mailcfgscript</h2>
<p><strong>Syntax:</strong> error_mailcfgscript <em>filename</em> <strong>OR</strong> error_mailcfgscript Redirect <em>location</em><br /> <strong>Default:</strong> "run_mailcfg returns a non-null value, %{mailcfg_exitcode}<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p><a href="configuration.html#run_mailcfg">run_mailcfg</a> failed.</p>
<h2><a name="error_viewmailcfgscript"></a>error_viewmailcfgscript</h2>
<p><strong>Syntax:</strong> error_viewmailcfgscript <em>filename</em> <strong>OR</strong> error_viewmailcfgscript Redirect <em>location</em><br /> <strong>Default:</strong> "run_viewmailcfg returns a non-null value, %{mailcfg_exitcode}<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p><a href="configuration.html#run_viewmailcfg">run_viewmailcfg</a> failed.</p>
<h2><a name="error_pam"></a>error_pam</h2>
<p><strong>Syntax:</strong> error_pam <em>filename</em> <strong>OR</strong> error_pam Redirect <em>location</em><br /> <strong>Default:</strong> "Can't update password, errno, %{pam_error}<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>pam error</p>
<h2><a name="error_illegalword"></a>error_illegalword</h2>
<p><strong>Syntax:</strong> error_illegalword <em>filename</em> <strong>OR</strong> error_illegalword Redirect <em>location</em><br /> <strong>Default:</strong> bad password <strong>Context:</strong> &lt;passwd&gt;</p>
<p>The new password contains an illegal word.</p>
<h2><a name="min_uid"></a>min_uid</h2>
<p><strong>Syntax:</strong> min_uid <em>uid</em><br /> <strong>Default:</strong> 100<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>minimum user id, if a uid is bellow min_uid access will be denied. You can't set min_uid lower then 10.</p>
<h2><a name="max_uid"></a>max_uid</h2>
<p><strong>Syntax:</strong> max_uid <em>uid</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> Global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>maximum user id, if the uid is higher than max_uid access will be denied. If max_uid isn't set there is no maximum.</p>
<h2><a name="min_length"></a>min_length</h2>
<p><strong>Syntax:</strong> min_length <em>length</em><br /> <strong>Default:</strong> 6<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>minimum password length</p>
<h2><a name="max_length"></a>max_length</h2>
<p><strong>Syntax:</strong> max_length <em>length</em><br /> <strong>Default:</strong> 8<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>maximum password length</p>
<h2><a name="accessdb"></a>accessdb</h2>
<p><strong>Syntax:</strong> accessdb <em>path</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>accessdb path, if not set no access database is used. If not set Users can try to change their password as many times they like. (view)mailcfg.cgi don't work without an accessdb.</p>
<h2><a name="cracklib"></a>cracklib</h2>
<p><strong>Syntax:</strong> cracklib <em>on|off</em><br /> <strong>Default:</strong> off<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>enable cracklib test, the new password is tested with cracklib. if the password is invalid <a href="configuration.html#error_cracklib">error_cracklib</a> is displayed.</p>
<p>you have to set the <a href="configuration.html#cracklib_dictpath">cracklib_dictpath</a> directive to your cracklib dictpath otherwise cracklib is disabled.</p>
<p>CGIpaf support cracklib password testing in the PAM configuration, if cracklib is enabled in your PAM configuration and you should set cracklib to off.</p>
<h2><a name="cracklib_dictpath"></a>cracklib_dictpath</h2>
<p><strong>Syntax:</strong> cracklib_dictpath <em>/path/to/cracklib_dict</em><br /> <strong>Default:</strong> off<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>Set the cracklib_dictpath, the cracklib_dictpath should be set to the dictionary filename without the extension ( .pwi ), not the directory path.</p>
<h2><a name="vmail_support"></a>vmail_support</h2>
<p><strong>Syntax:</strong> vmail_support <em>yes|no</em><br /> <strong>Default:</strong> off<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>Enable support for Linuxconf virtual email domains passwords<br /> This directive is only available if you've compiled CGIpaf without PAM support and isn't supported on *BSD systems.</p>
<h2><a name="passwd_location"></a>passwd_location</h2>
<p><strong>Syntax:</strong> passwd_location <em>/path/to/your/passwd_file</em><br /> <strong>Default:</strong> system passwd<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>Set the password file location. This directive is only available if you've compiled CGIpaf without PAM support and isn't supported on *BSD systems.</p>
<h2><a name="shadow_location"></a>shadow_location</h2>
<p><strong>Syntax:</strong> passwd_location <em>/path/to/your/shadow_file</em><br /> <strong>Default:</strong> system shadow<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>Set the shadow file location. This directive is only available if you've compiled CGIpaf without PAM support and isn't supported on *BSD systems.</p>
<h2><a name="illegal_words"></a>illegal_words</h2>
<p><strong>Syntax:</strong> illegal_words <em>word1 word2</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>Specify a list of words that are illegal to use as a part of a new password</p>
<h2><a name="set_pam_change_expired_authtok"></a>set_PAM_CHANGE_EXPIRED_AUTHTOK</h2>
<p><strong>Syntax:</strong> set_PAM_CHANGE_EXPIRED_AUTHTOK <em>on</em>|<em>off</em><br /> <strong>Default:</strong> on<br /> <strong>Context:</strong> &lt;passwd&gt;</p>
<p>Set the PAM_CHANGE_EXPIRED_AUTHTOK flag.<br /> <strong><span style="color: red;">This directive is obsolete and will be removed in the next Releases of CGIpaf</span></strong></p>
<h2><a name="max_invalid"></a>max_invalid</h2>
<p><strong>Syntax:</strong> max_invalid <em>tries</em><br /> <strong>Default:</strong> 3<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>maximum invalid tries, if not set the default value (3) will be used.</p>
<h2><a name="invalid_timeout"></a>invalid_timeout</h2>
<p><strong>Syntax:</strong> invalid_timeout <em>seconds</em> <strong>Default:</strong> 600<br /> <strong>Context:</strong> global, &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>time in seconds that a user will be locked out if the max_invalid tries has been exceeded.</p>
<h2><a name="sendmail"></a>sendmail</h2>
<p><strong>Syntax:</strong> sendmail <em>path_to_sendmail</em><br /> <strong>Default:</strong> "/usr/lib/sendmail"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi uses the path_to_sendmail in ~/.procmailrc, if your mailer is on another location than "/usr/lib/sendmail" you've to set the sendmail directive.</p>
<h2><a name="formail"></a>formail</h2>
<p><strong>Syntax:</strong> formail <em>path_to_formail</em><br /> <strong>Default:</strong> "formail"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>mailcfg.cgi uses the path_to_formail in ~/.procmailrc, by default the basename 'forname' is used.</p>
<h2><a name="domain"></a>domain</h2>
<p><strong>Syntax:</strong> domain <em>domain_name</em><br /> <strong>Default:</strong> nisdomain or domain name in /etc/resolv.conf<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>A "X-loop: user@domainname" header is added to the forwarded or the replied mail to avoid mail looping. With the domain directive you can set the domainname in the "X-loop" header. If domain is not set mailcfg.cgi will use hostname.nisadomainname, if your server isn't part of a NIS domain it'll use the domain in /etc/resolv.conf.</p>
<h2><a name="use_statefile"></a>use_statefile</h2>
<p><strong>Syntax:</strong> use_statefile <em>yes|no</em> <strong>Default</strong> no<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>CGIpaf creates a state file ( $HOME/.cgipaf_state ) in the user's home directory. This file contains the user's current mail configuration state. This file is used by <a href="configuration.html#run_before_mailcfg">run_before_mailcfg</a>, <a href="configuration.html#run_after_mailcfg">run_after_mailcfg</a> and <a href="configuration.html#run_mailcfg">run_mailcfg</a>. <br /> By default viewmailcfg.cgi doesn't use this file ( mainly for compatibility reasons ), but reads the user's .procmailrc to determine the user mail configuration. If you set "use_statefile" to "yes" viewmailcfg.cgi will read the state file instead of the user's .procmailrc to get the user's current mail configuration. <br /> If your user's uses their own .procmailrc to distribute their mailinglists into separated mailboxes you must set "use_statefile" to "yes". The user's original .procmailrc could confuse CGIpaf.</p>
<h2><a name="run_success"></a>run_success</h2>
<p><strong>Syntax:</strong> run_success <em>path_to_script</em> <em>stdout</em><br /> <strong>Default:</strong> not set<br /> <strong>Run as:</strong> root<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>runs a script is a password / mail configuration is successfully updated. Example:</p>
<pre><tt><code><br /> run_success "/usr/sbin/smbpasswd -U %{name} &gt; /dev/null 2&gt;&amp;1" "%{password}\n%{password}\n"<br /></code></tt></pre>
<p>Will update the SAMBA password file.</p>
<h2><a name="run_locked"></a>run_locked</h2>
<p><strong>Syntax:</strong> run_locked <em>path_to_script</em> <em>stdout</em><br /> <strong>Default:</strong> not set<br /> <strong>Run as:</strong> root<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>run a script is a user is locked.</p>
<h2><a name="run_before_mailcfg"></a>run_before_mailcfg</h2>
<p><strong>Syntax:</strong> run_before_mailcfg <em>script</em><br /> <strong>Default:</strong> not set<br /> <strong>Run as:</strong> <em>mail user</em><br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>run a script before the mail configuration. mailcfg.cgi will execute the "run_before_mailcfg" script if the mail configuration state goes from not active ( no mail forwarding and no autoreply ) to active. <br /> This can be used to copy the user's .procmailrc to a backup file.</p>
<p></p>
<h2><a name="run_after_mailcfg"></a>run_after_mailcfg</h2>
<p><strong>Syntax:</strong> run_after_mailcfg <em>script</em><br /> <strong>Default:</strong> not set<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>run a script after the mail configuration. mailcfg.cgi will execute the "run_after_mailcfg" script if the mail configuration state goes from active ( mail forwarding or autoreply enabled ) to non-active. <br /> This script can be used to restore the user's .procmailrc to his original state</p>
<h2><a name="run_mailcfg"></a>run_mailcfg</h2>
<p><strong>Syntax:</strong> run_mailcfg <em>path_to_script</em><br /> <strong>Default:</strong> built-in procmailrc update<br /> <strong>Run as:</strong> user<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>define a mail configuration script, if not set the built-in procmail configuration updater is used<br /> if set, <a href="configuration.html#use_statefile">use_statefile</a> is enabled.</p>
<h2><a name="mailcfg_check"></a>mailcfg_check</h2>
<p><strong>Syntax:</strong> mailcfg_check <em>on|off</em><br /> <strong>Default:</strong> on<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>enables or disables mailcfg.cgi internal HTTP POST parameters checking<br /> you can only disable <a href="configuration.html#mailcfg_check">mailcfg_check</a> if <a href="configuration.html#run_mailcfg">run_mailcfg</a> is defined.</p>
<p>if disabled mailcfg.cgi will run <a href="configuration.html#run_mailcfg">run_mailcfg</a> after the authentication without testing the HTTP POST variables. This is something you must do within your <a href="configuration.html#run_mailcfg">run_mailcfg</a> script.</p>
<p>if <a href="configuration.html#mailcfg_check">mailcfg_check</a> is disabled:</p>
<ul>
<li>the <strong>forward</strong>, <strong>not_forward</strong>, <strong>keep_msg</strong>, <strong>not_keep_msg</strong>, <strong>autoreply</strong>, <strong>not_autoreply</strong>, <strong>autoreply_msg</strong> etc <a href="configuration.html#variables">variables</a> are undefined.</li>
<li>the <a href="configuration.html#use_statefile">statefile</a> and $homedir/vacations.txt are not updated</li>
<li><a href="configuration.html#run_before_mailcfg">run_before_mailcfg</a> and <a href="configuration.html#run_after_mailcfg">run_after_mailcfg</a> are not executed</li>
</ul>
<h2><a name="run_viewmailcfg"></a>run_viewmailcfg</h2>
<p><strong>Syntax:</strong> run_viewmailcfg <em>path_to_script</em><br /> <strong>Default:</strong> built-in <br /> <strong>Run as:</strong> user<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>defines a view mail configuration script.<br /> if not set the <a href="configuration.html#mailcfg_document">mailcfg_document</a> is used after a successful login.</p>
<h2><a name="set_script_filename"></a>set_script_filename</h2>
<p><strong>Syntax:</strong> set_script_filename <em>on|off</em><br /> <strong>Default:</strong> off <br /> <strong>Run as:</strong> user<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>set the SCRIPT_FILENAME environment variable to the real scriptname.</p>
<h2><a name="unset_script_filename"></a>unset_script_filename</h2>
<p><strong>Syntax:</strong> unset_script_filename <em>on|off</em><br /> <strong>Default:</strong> off <br /> <strong>Run as:</strong> user<br /> <strong>Context:</strong> &lt;passwd&gt;, &lt;mailcfg&gt;</p>
<p>unset the SCRIPT_FILENAME environment variable.</p>
<h2><a name="cookie_timeout"></a>cookie_timeout</h2>
<p><strong>Syntax:</strong> cookie_timeout <em>seconds</em> <strong>Default:</strong> 300<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>cookie life time in seconds.</p>
<h2><a name="mailcfg_document"></a>mailcfg_document</h2>
<p><strong>Syntax:</strong> mailcfg_document <em>filename</em> <strong>OR</strong> mailcfg_document Redirect <em>Location</em><br /> <strong>Default:</strong> built-in message<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>Path to the mail configuration document</p>
<h2><a name="error_deldotforward"></a>error_deldotforward</h2>
<p><strong>Syntax:</strong> error_deldotforward <em>filename</em> <strong>OR</strong> error_deldotforward Redirect <em>Location</em><br /> <strong>Default:</strong> "Can't delete ~/.forward please contact the webmaster"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>Unable to delete .forward</p>
<h2><a name="error_deldotprocmailrc"></a>error_deldotprocmailrc</h2>
<p><strong>Syntax:</strong> error_deldotprocmailrc <em>filename</em> <strong>OR</strong> error_deldotprocmailrc Redirect <em>Location</em><br /> <strong>Default:</strong> "Can't delete ~/.procmailrc please contact the webmaster"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>Unable to delete .forward</p>
<h2><a name="error_openvacations"></a>error_openvacations</h2>
<p><strong>Syntax:</strong> error_openvacations <em>filename</em> <strong>OR</strong> error_openvacations Redirect <em>Location</em><br /> <strong>Default:</strong> "Can't open ~/.vacations.txt please contact the webmaster"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>Unable to open ~/vacations.txt</p>
<h2><a name="error_updateprocmailrc"></a>error_updateprocmailrc</h2>
<p><strong>Syntax:</strong> error_updateprocmailrc <em>filename</em> <strong>OR</strong> error_updateprocmailrc Redirect <em>Location</em><br /> <strong>Default:</strong> "Can't update ~/.procmailrc, please contact the webmaster" webmaster"<br /> <strong>Context:</strong> &lt;mailcfg&gt;</p>
<p>Unable to update ~/.procmailrc</p>
<h2><a name="aclorder"></a>AclOrder</h2>
<p><strong>Syntax:</strong> AclOrder <em>Deny,All</em> <strong>OR</strong> <em>Allow,Deny</em><br /> <strong>Default:</strong> Deny,Allow<br /> <strong>Context:</strong> Global,&lt;passwd&gt;,&lt;mailcfg&gt;</p>
<p>Set the <a href="configuration.html#acl">Acl</a> order.</p>
<h2><a name="allowusers"></a>AllowUsers</h2>
<p><strong>Syntax:</strong> AllowUsers <em>user1 user2</em> <strong>OR</strong> <em>*</em><br /> <strong>Default:</strong> see <a href="configuration.html#acl">Access Control List</a><br /> <strong>Context:</strong> Global,&lt;passwd&gt;,&lt;mailcfg&gt;</p>
<p>Specify a list of users that are allowed to use CGIpaf see <a href="configuration.html#acl">Access Control List</a></p>
<h2><a name="denyusers"></a>DenyUsers</h2>
<p><strong>Syntax:</strong> DenyUsers <em>user1 user2</em> <strong>OR</strong> <em>*</em><br /> <strong>Default:</strong> see <a href="configuration.html#acl">Access Control List</a><br /> <strong>Context:</strong> Global,&lt;passwd&gt;,&lt;mailcfg&gt;</p>
<p>Specify a list of users that are denied to use CGIpaf see <a href="configuration.html#acl">acl</a></p>
<h2><a name="allowgroups"></a>AllowGroups</h2>
<p><strong>Syntax:</strong> AllowGroups <em>group1 group2</em> <strong>OR</strong> <em>*</em><br /> <strong>Default:</strong> see <a href="configuration.html#acl">Access Control List</a><br /> <strong>Context:</strong> Global,&lt;passwd&gt;,&lt;mailcfg&gt;</p>
<p>Specify a list of groups that are allowed to use CGIpaf see <a href="configuration.html#acl">acl</a></p>
<h2><a name="denygroups"></a>DenyGroups</h2>
<p><strong>Syntax:</strong> DenyGroups <em>group1 group2</em> <strong>OR</strong> <em>*</em><br /> <strong>Default:</strong> see <a href="configuration.html#acl">Access Control List</a><br /> <strong>Context:</strong> Global,&lt;passwd&gt;,&lt;mailcfg&gt;</p>
<p>Specify a list of groups that are denied to use CGIpaf see <a href="configuration.html#acl">acl</a></p>
<h1><a name="variables"></a>Variables</h1>
<p>For each document you can as use a <a href="configuration.html#htmlfile">plain html file</a> with a few PHP extensions (see bellow) or a <a href="configuration.html#redirect">redirect</a>. In a redirect, file or <a href="configuration.html#run_success">run_success</a> and <a href="configuration.html#run_locked">run_locked</a> you can use the following variables:</p>
<table>
<tbody>
<tr>
<td><strong>Variable name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td>&nbsp;</td>
<td>&nbsp;</td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>loginname</td>
</tr>
<tr>
<td><strong>min_length</strong></td>
<td>minimum password length</td>
</tr>
<tr>
<td><strong>max_length</strong></td>
<td>maximum password length</td>
</tr>
<tr>
<td><strong>max_invalid</strong></td>
<td>maximum invalid tries</td>
</tr>
<tr>
<td><strong>invalid_timeout</strong></td>
<td>time in seconds that a user will be locked out if the max_invalid tries has been exceeded.</td>
</tr>
<tr>
<td><strong>invalid_wait</strong></td>
<td>a locked user will have to wait invalid_wait seconds</td>
</tr>
<tr>
<td><strong>forward_to</strong></td>
<td>the email where the mails will forward to</td>
</tr>
<tr>
<td><strong>forward</strong></td>
<td>if mail forwarding is enabled $forward is set to "yes". if mail forwarding is disabled $forward is "no"</td>
</tr>
<tr>
<td><strong>not_forward</strong></td>
<td>not_forward is the reverse of forward, so if $forward is "yes" $not_forward is "no"</td>
</tr>
<tr>
<td><strong>keep_msg</strong></td>
<td>$keep_msg is set to "yes" if the use want to keep his forwarded mails, set to "no" otherwise</td>
</tr>
<tr>
<td><strong>not_keep_msg</strong></td>
<td>the reverse of $keep_msg</td>
</tr>
<tr>
<td><strong>autoreply</strong></td>
<td>is "yes" if the use has enabled autoreply</td>
</tr>
<tr>
<td><strong>not_autoreply</strong></td>
<td>reverse of $autoreply</td>
</tr>
<tr>
<td><strong>autoreply_msg</strong></td>
<td>the autoreply message</td>
</tr>
<tr>
<td><strong>cookietimeout</strong></td>
<td>cookie lifetime is seconds</td>
</tr>
<tr>
<td><strong>cracklib_error</strong></td>
<td>cracklib error message</td>
</tr>
<tr>
<td><strong>bad_password</strong></td>
<td>The new password contains a illegal word, is set to cracklib_error if there is cracklib error</td>
</tr>
<tr>
<td><strong>pam_error</strong></td>
<td>pam error message</td>
</tr>
<tr>
<td><strong>password</strong></td>
<td>the user's new password, is only set at <a href="configuration.html#run_success">run_success</a></td>
</tr>
<tr>
<td><strong>mailcfg_exitcode</strong></td>
<td>exitcode of the <a href="configuration.html#run_mailcfg">run_mailcfg script</a></td>
</tr>
<tr>
<td><strong>viewmailcfg_exitcode</strong></td>
<td>exitcode of the <a href="configuration.html#viewrun_mailcfg"> run_viewmailcfg script</a></td>
</tr>
<tr>
<td><strong>homedir</strong></td>
<td>the user's home directory</td>
</tr>
<tr>
<td><strong>domain</strong></td>
<td>the <a href="configuration.html#domain">domain</a>name, only set by mailcfg.cgi</td>
</tr>
<tr>
<td><strong>user_maildomain</strong></td>
<td>The user maildomain ( only available if <a href="configuration.html#vmail_support">vmail support</a> is enabled</td>
</tr>
<tr>
<td><strong>message</strong></td>
<td>A string with the default message</td>
</tr>
<tr>
<td><strong>post_string</strong></td>
<td>A string with the original HTTP POST</td>
</tr>
<tr>
<td><strong>_POST[]</strong></td>
<td>An associative array of variables with the original HTTP POST</td>
</tr>
</tbody>
</table>
<h1><a name="redirect"></a>Redirect</h1>
<p>example:</p>
<pre><code><tt> <br /> msg_success redirect /pwchanged.php?name="%{name}"<br /></tt></code></pre>
<p>Will redirect to /pwchanged.php?name="loginname" after a user has succeed to change his password.</p>
<h1><a name="htmlfile"></a>HTML files</h1>
<p>If you don't use a redirect you can use plain html files with two PHP extensions "include" and "echo". The same variables as by a redirect are available.</p>
<pre><code><tt><br /> &lt;? echo $name; include "bottom.php" ?&gt;<br /></tt></code></pre>
<p>Will print the user's name and include bottom.php. Please note that the PHP implementation is very limited. include("bottom.php") won't work for example.</p>
<h1><a name="command"></a>Scripts</h1>
<h2><a name="command_overview"></a>Overview</h2>
<ul>
<li>With <a href="configuration.html#run_success">run_success</a> it's possible to run a script when a has update his password/mail configuration.</li>
<li><a href="configuration.html#run_locked">run_locked</a> allow you to run a script when a user has <a href="configuration.html#max_invalid">too many invalid logins</a>.</li>
<li><a href="configuration.html#run_before_mailcfg">run_before_mailcfg</a> and <a href="configuration.html#run_after_mailcfg">run_after_mailfg</a> allow you to run a script before and after the mail configuration.</li>
<li>With <a href="configuration.html#run_mailcfg">run_mailcfg</a> it's possible to run script to update the mail configuration.</li>
<li><a href="configuration.html#run_viewmailcfg">run_viewmailcfg</a> makes it possible to run a script after a user has login successfully to viewmailcfg.cgi</li>
</ul>
<h2><a name="command_syntax"></a>Syntax</h2>
<p>The first argument is the script name, the second argument is send to stdout. The second argument is usually used to pass the new password to a script.</p>
<h2><a name="command_examples"></a>Examples</h2>
<p></p>
<pre><tt><code><br /> &lt;passwd&gt;<br /> ...<br /> run_success "/usr/sbin/smbpasswd -U %{name} &gt; /dev/null 2&gt;&amp;1" "%{password}\n%{password}\n"<br /> ...<br /> &lt;/passwd&gt;<br /> </code></tt></pre>
<p>Executes a script to update the SAMBA password file after the system password is updated.</p>
<pre><tt><code><br /> &lt;mailcfg&gt;<br /> ...<br /> mailcfg_check off<br /> <br /> run_viewmailcfg /etc/cgipaf/scripts/mailcfg.pl "%{poststring}"<br /> run_mailcfg "/etc/cgipaf/scripts/mailcfg.pl update %{domain}" "%{poststring}"<br /> ...<br /> &lt;/mailcfg&gt;<br /> </code></tt></pre>
<p>Emulates a cgi environment for the mail configuration.<br /> The original http post is send back to stdout.<br /> mailcfg.cgi doesn't evaluate the httpd parameters since <a href="configuration.html#mailcfg_check">mailcfg_check</a> is disabled. This way CGIpaf only handles the authentication.</p>
<h1><a name="acl"></a>Access Control List</h1>
<p>With the Access Control list you can allow or deny users or groups.</p>
<p>The <a href="configuration.html#aclorder">AclOrder</a> directive control the default access state and the order in which the acl is processed.</p>
<dl><dt>Allow,Deny</dt><dd>The <a href="configuration.html#allowusers">AllowUsers</a> and <a href="configuration.html#allowgroups">AllowGroups</a> directives are evaluated before the <a href="configuration.html#denyusers">DenyUsers</a> and <a href="configuration.html#denygroups">DenyGroups</a> directives. Access is denied by default.</dd><dt>Deny,Allow</dt><dd>The <a href="configuration.html#denyusers">DenyUsers</a> and <a href="configuration.html#denygroups">DenyGroups</a> directives are evaluated before the <a href="configuration.html#allowusers">AllowUsers</a> and <a href="configuration.html#allowgroups">AllowGroups&gt;</a>. Access is granted by default.</dd></dl>
<p>A star (*) in the user or group list means any user or group other wildcards are not supported.</p>
<p></p>
<h2><a name="aclexamples"></a>Examples</h2>
<pre><code><br />AclOrder Deny,Allow<br />DenyUsers *<br />AllowUsers foo<br /></code></pre>
<p>Access to user "foo" will be allowed and all others will be denied.</p>
<pre><code><br />AclOrder Allow,Deny<br />AllowUsers foo<br /></code></pre>
<p>Give the same result as above.</p>
<pre><code><br />AclOrder Allow,Deny<br /></code></pre>
<p>Will denied access to all, because the default state is set to deny.</p>
<!--/description-->
</div>

			



<!--/folderKYXuh-S286AzAG2fuLFWcw /folder-->
</div>
<p>
<br /><br />
<script type="text/javascript"><!--
google_ad_client = "pub-4659298941528586";
google_ad_width = 800;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "336699";
google_color_bg = "FFFFFF";
google_color_link = "0000FF";
google_color_url = "008000";
google_color_text = "000000";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</p>
</div>			
<!-- wrap ends here -->
</div>
		
<!-- footer starts here -->
<div class="footer">

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4659298941528586";
/* bottom-artikel */
google_ad_slot = "3673193890";
google_ad_width = 728;
google_ad_height = 90;
//-->


</script>
<!--
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
//-->
	
	<p>	
	Valid <a href="http://validator.w3.org/check/referer">XHTML</a> |
   	<a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>
	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<!-- bottom nav -->				
	</p>


		
</div>	
	
</body>
</html>